<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>list</title>
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
			rel="stylesheet"
		/>
		<style>
			.hide {
				display: none;
			}
		</style>
	</head>
	<body>
		<div class="container">
			<div class="row"></div>
		</div>

		<script>
			var products = [
				{ id: 0, price: 70000, title: "Blossom Dress" },
				{ id: 1, price: 50000, title: "Springfield Shirt" },
				{ id: 2, price: 60000, title: "Black Monastery" },
			];
			let row = document.querySelector(".row");
			let count = 0;

			//방법1
			// for (i = 0; i < 3; i++) {
			// 	var card = `<div class="col-sm-4">
			//       <img src="https://via.placeholder.com/600" class="w-100" />
			//       <h5>${products[i].title}</h5>
			//       <p>가격 : ${products[i].price}</p>
			//     </div>`;
			// 	row.insertAdjacentHTML("beforeend", card);
			// }

			//방법2
			products.forEach(a => {
				var card = `<div class="col-sm-4">
     <img src="https://via.placeholder.com/600" class="w-100" />
     <h5>${a.title}</h5>
     <p>가격 : ${a.price}</p>
	    </div>`;
				row.insertAdjacentHTML("beforeend", card);
			});
		</script>

		<div class="container">
			<button class="btn btn-danger">더보기</button>
		</div>

		<script>
			const moreBtn = document.querySelector(".btn-danger");

			moreBtn.addEventListener("click", function () {
				count++;
				if (count == 1) {
					fetch("https://codingapple1.github.io/js/more1.json")
						.then(res => res.json())
						.then(function (data) {
							console.log(data);
							data.forEach(i => {
								console.log(i);
								var card = `<div class="col-sm-4">
			  <img src="https://via.placeholder.com/600" class="w-100" />
			  <h5>${i.title}</h5>
			  <p>가격 : ${i.price}</p>
			  </div>`;
								row.insertAdjacentHTML("beforeend", card);
							});
						})
						.catch(function (error) {
							console.log("실패함");
						});
				}
				if (count == 2) {
					fetch("https://codingapple1.github.io/js/more2.json")
						.then(res => res.json())
						.then(function (data) {
							console.log(data);
							data.forEach(i => {
								console.log(i);
								var card = `<div class="col-sm-4">
			  <img src="https://via.placeholder.com/600" class="w-100" />
			  <h5>${i.title}</h5>
			  <p>가격 : ${i.price}</p>
			  </div>`;
								row.insertAdjacentHTML("beforeend", card);
							});
						})
						.catch(function (error) {
							console.log("실패함");
						});
				}
			});
		</script>
	</body>
</html>
